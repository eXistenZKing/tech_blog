# Проект Technical Blog API
Technical blog — проект, цель которого дать возможность пользователям делиться своими знаниями и интересными наблюдениями в сфере технологий. Пользователи могут писать собственные статьи в различных категориях и присоединяться к обсуждению других статей в комментариях.

## 1. Настройка
### 1.1 Репозиторий

Проект имеет следующую структуру:
- `docs` - папка со спецификациями API
- `src` - папка с кодом Backend приложения (FastAPI)
- `migrations` - папка с миграциями БД (с использованием alembic)
- `alembic.ini` - папка с конфигурацией БД
- `docker-compose.production.yml` - настройки для развёртывания приложения в docker-контейнерах
- `requirements.txt` - файл с зависимостями проекта для pip
- `setup.cfg` - настройки для `flake8` и `isort`

### 1.2 Настройка после клонирования репозитория

После клонирования репозитория устанавливаем и настраиваем виртуальное окружение:

<details>
<summary>
Виртуальное окружение для backend
</summary>

1. Находимся в корневой папке проекта
2. Устанавливаем и активируем виртуальное окружение
    - Для linux/mac:
      ```shell
      python3.11 -m venv venv
      source .venv/bin/activate
      ```
    - Для Windows:
      ```shell
      python -m venv venv
      source venv\Scripts\activate
      ```
    В начале командной строки должно появиться название виртуальног окружения `(venv)`
3. Обновляем менеджер пакетов `pip` (по желанию)
    ```shell
    python -m pip install --upgrade pip
    ```
4. Устанавливаем зависимости
    ```shell
    pip install -r requirements.txt
    ```
</details>

## 2. Запуск приложения локально.

1. Создать `.env` на основе `.env.example` Указав валидные данные для подключения.

      ```ini
      DB_NAME=postgres
      DB_HOST=localhost
      DB_PORT=5432
      DB_USER=postgres
      DB_PASS=postgres

      AUTH_SECRET=SECRET

      ```
2. Находясь в корневой папке проекта необходимо убедиться, что сервер PostgreSQL запущен и готов к работе с ним.
3. Выполнить команду в термнале `alembic upgrade head` для применения миграций к БД
4. Выполнить команду `uvicorn src.main:app --reload`.
5. По адресу http://127.0.0.1:8000/docs/ будет доступна спецификация API.
